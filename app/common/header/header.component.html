<div class="header-container">
    <div *ngIf="showHeader">
        <header class="header">
            <div class="hamburger-section">
                <div class="hamburger-menu" (click)="toggleSidebar()">
                    <div class="bar" [class.active]="isSidebarOpen"></div>
                </div>
                <div class="donor-info" *ngIf="donor.name">
                    <div class="donor-avatar">
                        <div class="avatar-image" [style.backgroundImage]="'url(' + getProfileImageUrl() + ')'"
                            (error)="handleImageError($event)">
                        </div>
                    </div>
                    <span class="hospital-name">Life Saver</span>
                </div>
            </div>

            <div class="logo">

            </div>

            = <nav class="nav-links desktop-nav">
                <a routerLink="" class="nav-item">Home</a>
                <a routerLink="emerganzy" class="nav-item">Emerganzy</a>
                <a routerLink="appointment" class="nav-item">Scheduling Donation</a>
                <a routerLink="notifications" class="nav-item">App Notifications</a>
                <a routerLink="appointment" class="nav-item">Appointment</a>
                <a routerLink="health-tips" class="nav-item">Health Tips</a>
                <a routerLink="campaigns" class="nav-item">Campaigns</a>
            </nav>
        </header>

        <div class="sidebar" [class.active]="isSidebarOpen">
            <div class="sidebar-header">
                <div class="profile-image">
                    <div class="avatar-image" [style.backgroundImage]="'url(' + getProfileImageUrl() + ')'"
                        (error)="handleImageError($event)">
                    </div>
                </div>
                <div class="profile-info">
                    <h3>{{ donor.name || 'Guest User' }}</h3>
                    <span class="blood-type">{{ donor.bloodType || 'Unknown' }}</span>
                </div>
            </div>

            <div class="donor-stats">
                <div class="stat-item">
                    <i class="fas fa-tint"></i>
                    <div class="stat-details">
                        <span class="stat-value">{{ donor.totalDonations || 0 }}</span>
                        <span class="stat-label">Donations</span>
                    </div>
                </div>
                <div class="stat-item">
                    <i class="fas fa-calendar"></i>
                    <div class="stat-details">
                        <span class="stat-value">{{ formatNextDonationDate() }}</span>
                        <span class="stat-label">Next Donation</span>
                    </div>
                </div>
            </div>

            <nav class="sidebar-menu">
                = <div class="mobile-nav">
                    <a routerLink="" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a routerLink="donor-registration" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-ambulance"></i>
                        <span>Emerganzy</span>
                    </a>
                    <a routerLink="appointment" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-clock"></i>
                        <span>Scheduling Donation</span>
                    </a>
                    <a routerLink="notifications" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-bell"></i>
                        <span>App Notifications</span>
                    </a>
                    <a routerLink="appointment" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-calendar-check"></i>
                        <span>Appointment</span>
                    </a>
                    <a routerLink="health-tips" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-heart"></i>
                        <span>Health Tips</span>
                    </a>
                    <a routerLink="campaigns" class="menu-item" (click)="toggleSidebar()">
                        <i class="fas fa-bullhorn"></i>
                        <span>Campaigns</span>
                    </a>
                </div>

                <div class="divider"></div>
                <a (click)="navigateToProfile()" class="menu-item">
                    <i class="fas fa-user"></i>
                    <span>My Profile</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-history"></i>
                    <span>Donation History</span>
                </a>
                <a (click)="navigateToAppointment()" class="menu-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Appointments</span>
                </a>
                <a (click)="navigateToNotifications()" class="menu-item">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <a (click)="logout()" class="logout-btn" style="cursor: pointer;">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </div>

        <div class="overlay" [class.active]="isSidebarOpen" (click)="toggleSidebar()"></div>
    </div>
</div>